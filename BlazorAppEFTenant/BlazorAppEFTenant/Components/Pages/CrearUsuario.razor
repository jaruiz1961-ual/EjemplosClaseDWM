@page "/CrearUsuario"
@using DataBase.Genericos
@using DataBase.Modelo
@using DataBase.Servicios
@using Microsoft.EntityFrameworkCore

@inject IUnitOfWorkFactory UnitOfWorkFactory

@code {
    private IUnitOfWork<DbContext>? _uow;
    ServicioUsuarios servicioUsuarios

    protected override void OnInitialized()
    {
        var contextoKey = "SqlServer";
        _uow = UnitOfWorkFactory.Create(contextoKey);
        servicioUsuarios = new ServicioUsuarios<TContext>(_uow.Context> 
    }

    private async Task<List<Usuario>> CargarUsuariosAsync()
    {
        var repo = _uow.GetRepository<Usuario>();
        return (await repo.GetAllAsync()).ToList();
    }
}

